{"version":3,"sources":["webpack:///./content/content.js","webpack:///./content/overlay.js","webpack:///./content/context_menu.js","webpack:///./content/extract_instrumentation.js","webpack:///./content/form_extractor.js","webpack:///./content/context.js","webpack:///./content/testing.js"],"names":[],"mappings":"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","file":"content.js","sourcesContent":["/*eslint complexity:0 */\nimport Overlay from \"./overlay\";\nimport Logger from \"../debug/logger\";\nimport jQuery from \"jquery\";\nimport JSONF from \"../global/jsonf\";\nimport FormFiller from \"./form_filler\";\nimport Libs from \"../global/libs\";\nimport ContextMenu from \"./context_menu\";\nimport context from \"./context\";\nimport Testing from \"./testing\";\n\nOverlay.init();\nContextMenu.init();\nTesting.init();\n\n// These need to be GLOBAL for function resolution to work\nwindow.context = context;\nwindow.Libs = Libs;\nLibs.import();\n\n// This listens for messages coming from the background page\n// This is a long running communication channel\nchrome.runtime.onConnect.addListener(function (port) {\n  var errors = [];\n  var currentError = null;\n  var workingOverlayId = \"form-o-fill-working-overlay\";\n\n  var workingTimeout = null;\n  var takingLongTimeout = null;\n  var wontFinishTimeout = null;\n  var displayTimeout = null;\n\n  Logger.info(\"[content.js] Got a connection from \" + port.name);\n\n  if(port.name !== \"FormOFill\") {\n    return;\n  }\n\n  var overlayHtml = function(text, isVisible) {\n    if(typeof text === \"undefined\") {\n      text = \"Form-O-Fill is working, please wait!\";\n    }\n\n    if(typeof isVisible === \"undefined\") {\n      isVisible = false;\n    }\n    return \"<div id='\" + workingOverlayId + \"' style='display: \" + (isVisible ? \"block\" : \"none\") + \";'>\" + text + \"</div>\";\n  };\n\n  // Hide overlay and cancel all timers\n  var hideOverlay = function() {\n    jQuery(\"#\" + workingOverlayId).remove();\n    clearTimeout(workingTimeout);\n    clearTimeout(takingLongTimeout);\n    clearTimeout(wontFinishTimeout);\n    clearTimeout(displayTimeout);\n  };\n\n  // Shows and hides a customized overlay throbber\n  var showOverlay = function(message) {\n    hideOverlay();\n    jQuery(\"body\").find(\"#\" + workingOverlayId).remove().end().append(overlayHtml(message, true));\n    displayTimeout = setTimeout(hideOverlay, 3000);\n  };\n\n  port.onMessage.addListener(function (message) {\n    Logger.info(\"[content.js] Got message via port.onMessage : \" + JSONF.stringify(message) + \" from bg.js\");\n\n    // Request to fill one field with a value\n    if (message.action === \"fillField\" && message.selector && message.value) {\n      Logger.info(\"[content.js] Filling \" + message.selector + \" with value \" + JSONF.stringify(message.value) + \"; flags : \" + JSONF.stringify(message.flags));\n\n      // REMOVE START\n      if (message.beforeData && message.beforeData !== null) {\n        Logger.info(\"[content.js] Also got beforeData = \" + JSONF.stringify(message.beforeData));\n      }\n      // REMOVE END\n\n      currentError = FormFiller.fill(message.selector, message.value, message.beforeData, message.flags, message.meta);\n\n      // Remember the error\n      if(typeof currentError !== \"undefined\" && currentError !== null) {\n        Logger.info(\"[content.js] Got error \" + JSONF.stringify(currentError));\n        errors.push(currentError);\n      }\n\n      // Send a message that we are done filling the form\n      if(message.meta.lastField) {\n        Logger.info(\"[content.js] Sending fillFieldFinished since we are done with the last field definition\");\n\n        chrome.runtime.sendMessage({\n          \"action\": \"fillFieldFinished\",\n          \"errors\": JSONF.stringify(errors)\n        });\n      }\n    }\n\n    // request to return all accumulated errors\n    if (message.action === \"getErrors\") {\n      Logger.info(\"[content.js] Returning \" + errors.length + \" errors to bg.js\");\n      var response = {\n        \"action\": \"getErrors\",\n        \"errors\": JSONF.stringify(errors)\n      };\n      port.postMessage(response);\n    }\n\n    // Show Working overlay\n    // This should only be triggered for the default \"WORKING\"\n    // overlay.\n    // For the customized Lib.halt() message see down below\n    if (message.action === \"showOverlay\" && typeof message.message === \"undefined\") {\n      Logger.info(\"[content.js] Showing working overlay\");\n      if(document.querySelectorAll(\"#\" + workingOverlayId).length === 0) {\n        jQuery(\"body\").append(overlayHtml());\n      }\n\n      // Show working overlay after some time\n      workingTimeout = setTimeout(function() {\n        jQuery(\"#\" + workingOverlayId).show();\n      }, 350);\n\n      // Show another overlay when things take REALLY long to finish\n      takingLongTimeout = setTimeout(function () {\n        jQuery(\"#\" + workingOverlayId).html(\"This is really taking too long.\");\n      }, 5000);\n\n      // Finally if everything fails, clear overlay after 12 seconds\n      wontFinishTimeout = setTimeout(hideOverlay, 12000);\n    }\n\n    // Hide the overlay\n    if (message.action === \"hideWorkingOverlay\") {\n      Logger.info(\"[content.js] Hiding working overlay\");\n      hideOverlay();\n    }\n\n    // Show a custom message\n    if(message.action === \"showMessage\") {\n      showOverlay(message.message);\n    }\n\n    // reload the libraries\n    if(message.action === \"reloadLibs\") {\n      Libs.import();\n    }\n\n    // execute setupContent function\n    if(message.action === \"setupContent\" && message.value) {\n      Logger.info(\"[content.js] Executing setupContent function\", message.value);\n\n      // Parse and execute function\n      var error = null;\n\n      try {\n        JSONF.parse(message.value)();\n      } catch (e) {\n        Logger.error(\"[content.js] error while executing setupContent function\");\n        error = e.message;\n      }\n\n      port.postMessage({action: \"setupContentDone\", value: JSONF.stringify(error)});\n    }\n\n    // execute teardownContent function\n    // It has jQuery available and the context object from value functions and setupContent\n    if(message.action === \"teardownContent\" && message.value) {\n      Logger.info(\"[content.js] Executing teardownContent function\", message.value);\n\n      try {\n        JSONF.parse(message.value)();\n      } catch (e) {\n        Logger.error(\"[content.js] error while executing teardownContent function\");\n      }\n    }\n  });\n\n  // Simple one-shot callbacks\n  chrome.runtime.onMessage.addListener(function (message, sender, responseCb) {\n    Logger.info(\"[content.js] Got message via runtime.onMessage : \" + JSONF.stringify(message) + \" from bg.j\");\n\n    // This is the content grabber available as context.findHtml() in before functions\n    if (message.action === \"grabContentBySelector\") {\n      Logger.info(\"[content.js] Grabber asked for '\" + message.message + \"'\");\n      var domElements = jQuery(message.message).map(function (index, $el) {\n        return $el;\n      });\n      if(domElements.length === 0) {\n        responseCb([]);\n      } else if(domElements.length === 1) {\n        responseCb(domElements[0].outerHTML);\n      } else {\n        responseCb(domElements.map(function(el) {\n          return el.outerHTML;\n        }));\n      }\n    }\n\n    // Show a custom message\n    // This appears twice in c/content.js because it uses a port and a one-shot\n    // listener\n    if(message.action === \"showOverlay\" && typeof message.message !== \"undefined\") {\n      showOverlay(message.message);\n      responseCb();\n    }\n\n    // Save a variable set in background via storage.set in the context of the content script\n    // This makes the storage usable in value functions\n    if(message.action === \"storageSet\" && typeof message.key !== \"undefined\" && typeof message.value !== \"undefined\") {\n      Logger.info(\"[content.js] Saving \" + message.key + \" = \" + message.value);\n      window.sessionStorage.setItem(message.key, message.value);\n    }\n\n    // Must return true to signal chrome that we do some work\n    // asynchronously (see https://developer.chrome.com/extensions/runtime#event-onMessage)\n    return true;\n  });\n\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/content.js\n **/","import jQuery from \"jquery\";\nimport Logger from \"../debug/logger\";\n\nvar workingOverlayId = \"form-o-fill-working-overlay\";\nvar workingTimeout = null;\nvar takingLongTimeout = null;\nvar wontFinishTimeout = null;\nvar displayTimeout = null;\n\nvar overlayHtml = function(text, isVisible) {\n  if(typeof text === \"undefined\") {\n    text = \"Form-O-Fill is working, please wait!\";\n  }\n\n  if(typeof isVisible === \"undefined\") {\n    isVisible = false;\n  }\n  return \"<div id='\" + workingOverlayId + \"' style='display: \" + (isVisible ? \"block\" : \"none\") + \";'>\" + text + \"</div>\";\n};\n\n// Hide overlay and cancel all timers\nvar hideOverlay = function() {\n  jQuery(\"#\" + workingOverlayId).remove();\n  clearTimeout(workingTimeout);\n  clearTimeout(takingLongTimeout);\n  clearTimeout(wontFinishTimeout);\n  clearTimeout(displayTimeout);\n};\n\n// Shows and hides a customized overlay throbber\nvar showOverlay = function(message) {\n  hideOverlay();\n  jQuery(\"body\").find(\"#\" + workingOverlayId).remove().end().append(overlayHtml(message, true));\n  displayTimeout = setTimeout(hideOverlay, 1500);\n};\n\n// This listens for messages coming from the background page\n// This is a long running communication channel\nvar portListener = function() {\n  chrome.runtime.onConnect.addListener(function (port) {\n    port.onMessage.addListener(function (message) {\n      // Show Working overlay\n      // This should only be triggered for the default \"WORKING\"\n      // overlay.\n      // For the customized Lib.halt() message see down below\n      if (message.action === \"showOverlay\" && typeof message.message === \"undefined\") {\n        Logger.info(\"[content.js] Showing working overlay\");\n        if(document.querySelectorAll(\"#\" + workingOverlayId).length === 0) {\n          jQuery(\"body\").append(overlayHtml());\n        }\n\n        // Show working overlay after some time\n        workingTimeout = setTimeout(function() {\n          jQuery(\"#\" + workingOverlayId).show();\n        }, 350);\n\n        // Show another overlay when things take REALLY long to finish\n        takingLongTimeout = setTimeout(function () {\n          jQuery(\"#\" + workingOverlayId).html(\"This is really taking too long.\");\n        }, 5000);\n\n        // Finally if everything fails, clear overlay after 12 seconds\n        wontFinishTimeout = setTimeout(hideOverlay, 12000);\n      }\n\n      // Hide the overlay\n      if (message.action === \"hideWorkingOverlay\") {\n        Logger.info(\"[content.js] Hiding working overlay\");\n        hideOverlay();\n      }\n\n      // Show a custom message\n      if(message.action === \"showMessage\") {\n        showOverlay(message.message);\n      }\n    });\n  });\n};\n\nvar runtimeListener = function() {\n  chrome.runtime.onMessage.addListener(function (message, sender, responseCb) {\n    // Show a custom message\n    // This appears twice in c/content.js because it uses a port and a one-shot\n    // listener\n    if(message.action === \"showOverlay\" && typeof message.message !== \"undefined\") {\n      showOverlay(message.message);\n      responseCb();\n    }\n  });\n};\n\nvar Overlay = {\n  init: function() {\n    runtimeListener();\n    portListener();\n  }\n};\n\nmodule.exports = Overlay;\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/overlay.js\n **/","import * as Extractor from \"./extract_instrumentation\";\n\nvar lastRightClickedElement = null;\n\nvar ContextMenu = {\n  init: function() {\n    document.addEventListener(\"mousedown\", function(event){\n      // right click\n      if(event.button === 2 && typeof event.target.form !== \"undefined\") {\n        lastRightClickedElement = event.target;\n      }\n    }, true);\n\n    // When we receive the message to extract a form\n    // from bg.js we can just extract the form from the last saved element\n    chrome.extension.onMessage.addListener(function(message) {\n      if(message.action === \"extractLastClickedForm\") {\n        Extractor.extractRules(lastRightClickedElement.form);\n      }\n    });\n  }\n};\n\nmodule.exports = ContextMenu;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/context_menu.js\n **/","import jQuery from \"jquery\";\nimport FormExtractor from \"./form_extractor\";\nimport Logger from \"../debug/logger\";\nimport JSONF from \"../global/jsonf\";\nimport Utils from \"../global/utils\";\n\n// Create HTML overlays for form masking\nvar getOverlays = function getOverlays() {\n  var overlays = [];\n  jQuery(\"form\").each(function formEach(index) {\n    var $form = jQuery(this);\n\n    // Add an index so we can find the form later\n    $form.attr(\"data-form-o-fill-id\", index);\n\n    // Dimensions\n    var offset = $form.offset();\n    var height = $form.height();\n    var width = $form.width();\n\n    // HTML\n    var overlay = \"<div data-form-o-fill-id='\" + index + \"' class='form-o-fill-overlay-form' style='top:\" + offset.top + \"px; left:\" + offset.left + \"px; width:\" + width + \"px; height:\" + height + \"px;'><div class='form-o-fill-overlay-text'>Form-O-Fill:<br />Click in the colored area to extract this form</div></div>\";\n    overlays.push(overlay);\n  });\n  return overlays.join();\n};\n\nvar cleanupOverlays = function cleanupOverlays() {\n  // cleanup\n  jQuery(\"form\").each(function formEach() {\n    jQuery(this).removeAttr(\"form-o-fill-id\");\n  });\n  jQuery(\".form-o-fill-overlay-form\").remove();\n  jQuery(document).off(\"click\", \".form-o-fill-overlay-form\").off(\"click\", \"body\");\n};\n\nvar extractRules = function extractRules(targetForm) {\n  // looks good, start extraction\n  var ruleCode = FormExtractor.extract(targetForm);\n  Logger.info(\"[extract_instr.js] Extracted: \" + JSON.stringify(ruleCode));\n\n  // Save Rule and goto options.html\n  Storage.save(ruleCode, Utils.keys.extractedRule);\n\n  chrome.runtime.sendMessage({ \"action\": \"extractFinishedNotification\"});\n};\n\n// Show the extract overlay and bind handlers\nvar showExtractOverlay = function showExtractOverlay() {\n  // Add event listener to DOM\n  jQuery(document).on(\"click\", \".form-o-fill-overlay-form\", function clickFofOverlay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // This is the form we must extract\n    var targetForm = document.querySelector(\"form[data-form-o-fill-id='\" + this.dataset.formOFillId + \"']\");\n\n    // remove overlays etc\n    cleanupOverlays();\n\n    if(targetForm) {\n      extractRules(targetForm);\n    }\n  }).on(\"click\", \"body\", cleanupOverlays)\n  .on(\"keyup\", function keyUp(e) {\n    if(e.which === 27) {\n      cleanupOverlays();\n    }\n  });\n\n  // Attach overlays to DOM\n  jQuery(\"body\").append(getOverlays());\n};\n\n// This is a one-off message listener\nchrome.runtime.onMessage.addListener(function extractInstOnMessage(message, sender, responseCallback) {\n  // Request to start extracting a form to rules\n  if (message && message.action === \"showExtractOverlay\") {\n    showExtractOverlay();\n  }\n\n  // Request to match rules against content\n  // Done here to not send the whole HTML to bg.js\n  if (message && message.action === \"matchContent\" && message.rules) {\n    var content = document.querySelector(\"body\").outerHTML;\n    var matches = [];\n    var rules = JSONF.parse(message.rules);\n    rules.forEach(function forEach(rule) {\n      if(typeof rule.content.test === \"function\" && rule.content.test(content)) {\n        matches.push(rule.id);\n      }\n    });\n    Logger.info(\"[extract_instr.js] Matched content against \" + rules.length + \" rules with \" + matches.length + \" content matches\");\n    responseCallback(JSONF.stringify(matches));\n  }\n});\n\nmodule.exports = {\n  extractRules: extractRules,\n  showExtractOverlay: showExtractOverlay\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/extract_instrumentation.js\n **/","/* eslint no-unused-vars: 0 */\nimport Logger from \"../debug/logger\";\nimport jQuery from \"jquery\";\nimport Rule from \"../global/rule\";\n\nvar FormExtractor = {\n  _knownElements: null,\n  knownElements: function() {\n    if(this._knownElements) {\n      return this._knownElements;\n    }\n    var inputs = [\n      \"text\",\n      \"checkbox\",\n      \"image\",\n      \"password\",\n      \"radio\",\n      \"search\",\n      \"email\",\n      \"url\",\n      \"tel\",\n      \"number\",\n      \"range\",\n      \"date\",\n      \"month\",\n      \"week\",\n      \"time\",\n      \"datetime\",\n      \"datetime-local\",\n      \"color\"\n    ];\n    var tags = [\n      \"button\",\n      \"textarea\",\n      \"select\"\n    ];\n    this._knownElements = inputs.map(function (inputType) {\n      return \"input[type=\" + inputType + \"]\";\n    });\n    this._knownElements = this._knownElements.concat(tags);\n    return this._knownElements;\n  },\n  extract: function(domNodeStartExtractionHere) {\n    var extractor = this;\n    var $form = jQuery(domNodeStartExtractionHere);\n    var ruleData = {\n      \"url\": document.location.href,\n      \"name\": \"A rule for \" + document.location.href,\n      \"fields\": []\n    };\n\n    this.knownElements().forEach(function (selector) {\n      Logger.info(\"[form_extractor.js] Looking for '\" + selector + \"'\");\n      $form.find(selector).each(function() {\n        Logger.info(\"[form_extractor.js] Found a '\" + this.type + \"' (\" + this.value + \") <\" + this.name + \">\");\n        var value = extractor._valueFor(this);\n        // Only include field if value !== null\n        if(value !== null) {\n          var field = {\n            \"selector\": extractor._selectorFor(this),\n            \"value\": value\n          };\n          ruleData.fields.push(field);\n        }\n      });\n    });\n\n    return Rule.create(ruleData).prettyPrint();\n  },\n  _selectorFor: function(domNode) {\n    var method = this._method(\"selector\", domNode);\n    return method(domNode);\n  },\n  _valueFor: function(domNode) {\n    var method = this._method(\"value\", domNode);\n    return method(domNode);\n  },\n  _selectorDefault: function(domNode) {\n    return \"input[name='\" + domNode.name + \"']\";\n  },\n  _selectorButton: function(domNode) {\n    return \"button[name='\" + domNode.name + \"']\";\n  },\n  _selectorTextarea: function(domNode) {\n    return \"textarea[name='\" + domNode.name + \"']\";\n  },\n  _selectorSelectOne: function(domNode) {\n    return \"select[name='\" + domNode.name + \"']\";\n  },\n  _selectorSelectMultiple: function(domNode) {\n    return \"select[name='\" + domNode.name + \"']\";\n  },\n  _valueDefault: function(domNode) {\n    return domNode.value;\n  },\n  _valueCheckbox: function(domNode) {\n    // if checked include the checkbox in the rule\n    return domNode.checked ? true : false;\n  },\n  _valueRadio: function(domNode) {\n    // if checked include the radiobutton in the rule\n    return domNode.checked ? domNode.value : null;\n  },\n  _valueSelectOne: function(domNode) {\n    var optionNode = null;\n    var i;\n    for(i = 0; i < domNode.children.length; i++) {\n      optionNode = domNode.children[i];\n      if(optionNode.selected) {\n        return optionNode.value;\n      }\n    }\n    return \"\";\n  },\n  _valueSelectMultiple: function(domNode) {\n    var i = 0;\n    var optionNode = null;\n    var selected = [];\n\n    for(i = 0; i < domNode.children.length; i++) {\n      optionNode = domNode.children[i];\n      if (optionNode.selected) {\n        selected.push(optionNode.value);\n      }\n    }\n\n    return selected;\n  },\n  _method: function(prefix, domNode) {\n    var valueMethod = this[this._typeMethod(prefix, domNode.type)];\n    // Default is to set the value of the field if\n    // no special function is defined for that type\n    if (typeof valueMethod !== \"function\") {\n      valueMethod = this[\"_\" + prefix + \"Default\"];\n    }\n    return valueMethod;\n  },\n  _typeMethod: function(prefix, type) {\n    return (\"_\" + prefix + \"-\" + type).replace(/(\\-[a-z])/g, function($1) {\n      return $1.toUpperCase().replace('-', '');\n    });\n  }\n};\n\nmodule.exports = FormExtractor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/form_extractor.js\n **/","/*eslint no-unused-vars: 0 */\nimport JSONF from \"../global/jsonf\";\n\n// This is not the same context as in background.js\n// Currently it only allows to read storage values set by bg.js but\n// you can set value for all value functions to access\nvar context = {\n  storage: {\n    get: function(key) {\n      var value = window.sessionStorage.getItem(key);\n      if(typeof value !== \"undefined\") {\n        return JSONF.parse(value);\n      }\n      return value;\n    },\n    set: function(key, value) {\n      // set it in localstorage\n      window.sessionStorage.setItem(key, JSONF.stringify(value));\n    }\n  }\n};\n\nmodule.exports = context;\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/context.js\n **/","// This file is for end to end testing only\n// It is delivered with the production code but disabled\nimport Logger from \"../debug/logger\";\nimport jQuery from \"jquery\";\nimport Utils from \"../global/utils\";\nimport Extractor from \"./extract_instrumentation\";\n\nvar installTestingCode = function() {\n\n  var shouldLog = !jQuery(\"body\").hasClass(\"test-no-log\");\n\n  var Testing = {\n    setTestingVar: function(key, value, text) {\n      var $info = jQuery(\"#form-o-fill-testing-info\");\n      var foundEl = $info.find(\".\" + key);\n      // When the text property is set, append that to the DOM\n      if(foundEl.length === 0 && typeof text !== \"undefined\") {\n        $info.append(\"<tr><td>\" + text + \"</td><td class='\" + key + \"'>\" + value + \"</td></tr>\");\n      } else {\n        $info.find(\".\" + key).html(value);\n      }\n    },\n    appendTestLog: function(msg) {\n      if(shouldLog) {\n        jQuery(\"td.log ul\").append(\"<li>\" + msg + \"</li>\");\n      }\n    }\n  };\n\n  // Tell the background page that we are in testing mode\n  chrome.runtime.sendMessage({action: \"setTestingMode\", value: true}, function(bgInfo) {\n    // The background page returns a lot of metadata about the extension\n    // Display that in the testing page which has a special container for that.\n    // That information is then picked up by the integration tests to reach intern URLs like\n    // the options page\n    Logger.info(\"[c/testing.j] background.js has set testing mode to \" + bgInfo.testingMode);\n    Testing.setTestingVar(\"extension-id\", bgInfo.extensionId, \"Extension Id\");\n    Testing.setTestingVar(\"extension-options-url\", \"<a target='_self' href='chrome-extension://\" + bgInfo.extensionId + \"/html/options.html'>chrome-extension://\" + bgInfo.extensionId + \"/html/options.html</a>\", \"Options URL\");\n    Testing.setTestingVar(\"tab-id\", bgInfo.tabId, \"TabId of this page\");\n    Testing.setTestingVar(\"extension-version\", bgInfo.extensionVersion, \"Form-O-Fill Version\");\n    Testing.setTestingVar(\"testing-mode\", bgInfo.testingMode, \"Testing mode\");\n    Testing.setTestingVar(\"rule-count\", bgInfo.ruleCount, \"Number of rules\");\n    Testing.setTestingVar(\"lib-count\", bgInfo.libCount, \"Number of library functions\");\n    Testing.setTestingVar(\"log\", \"<ul></ul>\", \"Log\");\n  });\n\n  // Listen to messages from background.js\n  chrome.runtime.onMessage.addListener(function(message, sender, sendResponse) {\n    // Set a variable in the DOM based on what is sent from bg.js\n    if(message.action === \"setTestingVar\" && message.key && typeof message.value !== \"undefined\") {\n      Testing.setTestingVar(message.key, message.value, message.text);\n      sendResponse(true);\n    }\n\n    if(message.action === \"appendTestLog\" && typeof message.value !== \"undefined\") {\n      Testing.appendTestLog(message.value);\n      sendResponse(true);\n    }\n  });\n\n  //\n  // Bind some handlers to make working with the testcases\n  // easier\n  jQuery(document).on(\"click\", \"#form-o-fill-testing-import-submit\", function () {\n    // Attach an listener to the <button> so that the rules that should be imported can be send\n    // to the background/testing.js page\n    // There is a little \"obfuscating\" involved (see replace) to help testing.\n    var rulesCode = jQuery(\"#form-o-fill-testing-import\").val().replace(/([a-zA-Z])@([a-zA-Z])/g,\"$1 $2\");\n    chrome.runtime.sendMessage({action: \"importRules\", value: rulesCode}, function () {\n      window.location.reload();\n    });\n  }).on(\"click\", \".popup-html li.select-rule\", function() {\n    // Clicks on the simulated popup should trigger filling\n    var domNode = this;\n    var data = jQuery(this).data();\n    var message = {\n      \"action\": \"fillWithRule\",\n      \"index\": data.ruleIndex,\n      \"id\": data.ruleId\n    };\n    chrome.extension.sendMessage(message, function() {\n      Testing.setTestingVar(\"rule-filled-id\", message.id, \"Filled form with rule #id\");\n      Testing.setTestingVar(\"rule-filled-name\", domNode.innerHTML, \"Filled form with rule #name\");\n      domNode = null;\n    });\n  }).on(\"click\", \".extension-options-url\", function () {\n    // Simulate a click on the testing options link\n    Utils.openOptions();\n  }).on(\"click\", \"a.cmd-show-extract-overlay\", function () {\n    // Execute extract form function\n    Extractor.showExtractOverlay();\n  }).on(\"click\", \".popup-html li.select-workflow\", function() {\n    // Clicks on the simulated popup should trigger workflow\n    var domNode = this;\n    var data = jQuery(this).data();\n    var message = {\n      \"action\": \"fillWithWorkflow\",\n      \"index\": data.workflowIndex,\n      \"id\": data.workflowId\n    };\n    chrome.extension.sendMessage(message, function() {\n      Testing.setTestingVar(\"rule-filled-id\", message.id, \"Filled form with workflow #id\");\n      Testing.setTestingVar(\"rule-filled-name\", domNode.innerHTML, \"Filled form with workflow #name\");\n      domNode = null;\n    });\n  }).on(\"click\", \".cmd-toggle-re-match\", function() {\n    // Click on rematch button should activate rematch mode\n    chrome.extension.sendMessage({action: \"testToggleRematch\"});\n  });\n\n  // Make the Testn object available in dev\n  if(!Utils.isLiveExtension()) {\n    window.Testing = Testing;\n  }\n};\n\nvar Testing = {\n  init: function() {\n    // Enable only if we are running inside a special testing URL and are not bound to the live extension ID\n    if(!Utils.isLiveExtension() && /http:\\/\\/localhost:9292\\/form-o-fill-testing\\//.test(window.location.href)) {\n      installTestingCode();\n      Logger.info(\"[c/testing.js] Installed testing code in content page\");\n    }\n  }\n};\n\nmodule.exports = Testing;\n\n\n\n/** WEBPACK FOOTER **\n ** ./content/testing.js\n **/"],"sourceRoot":""}